<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>To Do List / DOM Manipulation</title>
  </head>

  <body>
    <header class="header">
      <nav class="navbar">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="">To Do list</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="">Pomodoro</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="">Contact</a>
          </li>
        </ul>
      </nav>
      <h1 class="todo-title">To Do List</h1>
    </header>
    <main class="main">
      <form class="todo-form">
        <h3 for="todo-input" class="input-label">Add Task to List:</h3>
        <input type="text" class="todo-input" placeholder="To do..." />
        <button class="todo-button" type="submit">Add</button>
      </form>
      <div class="todo-container">
        <div class="todo-list">
          <label> To Do List:</label>
          <ul class="todo-items"></ul>
        </div>
        <div class="todo-list">
          <label>Completed Tasks:</label><br />
          <ul class="todo-complete"></ul>
        </div>
      </div>
    </main>
    <footer class="footer">
      <h2 class="footer-title">
        <br />
      </h2>
    </footer>
    <script>
      // selectors
      const todoInput = document.querySelector(".todo-input");
      const todoButton = document.querySelector(".todo-button");
      const todoList = document.querySelector(".todo-list");
      const todoComplete = document.querySelector(".todo-complete");

      // event listeners
      todoButton.addEventListener("click", addTodo);
      todoList.addEventListener("click", deleteCheck);
      todoComplete.addEventListener("click", deleteComplete);

      // functions

      function addTodo(event) {
        // prevent form from submitting
        event.preventDefault();
        // todo div
        const todoDiv = document.createElement("div");
        todoDiv.classList.add("todo");
        // create li
        const newTodo = document.createElement("li");
        newTodo.innerText = todoInput.value;
        newTodo.classList.add("todo-item");
        todoDiv.append(newTodo);
        // create checked button
        const checkedButton = document.createElement("button");
        checkedButton.innerText = "check";
        checkedButton.classList.add("checked-btn");
        todoDiv.append(checkedButton);
        // create trash button
        const trashButton = document.createElement("button");
        trashButton.innerText = "delete";
        trashButton.classList.add("trash-btn");
        todoDiv.append(trashButton);
        // Append to list
        todoList.append(todoDiv);
        // Clear to do input value
        todoInput.value = "";
      }

      function deleteCheck(event) {
        const item = event.target;
        const todo = item.parentElement;
        // Delete todo
        if (item.classList[0] === "trash-btn") {
          todo.remove();
        } else if (item.classList[0] === "checked-btn") {
          item.remove();
          // move item to completed ul list
          todoComplete.append(todo);
        }
      }

      function deleteComplete() {
        const item = event.target;
        const todo = item.parentElement;
        // Delete todo
        if (item.classList[0] === "trash-btn") {
          todo.remove();
        }
      }
    </script>
  </body>
</html>
